import{W as y,I as $,m as x,X as v,z as m,o as f,c as O,w as j,a as n,t as p,g as S,h as C,b as g,e as w,i as B,n as E,F as q}from"./app.519b2f6a.js";import{_ as P}from"./AppLayout.114ae82a.js";import R from"./Order.98b45a2e.js";import U from"./Cart.1493a77f.js";import{_ as V}from"./Textinput.13e470ca.js";import{d as Z}from"./dayjs.min.4b436a57.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./CheckoutButton.af6531b3.js";import"./DangerButton.fc0fe775.js";import"./PrimaryButton.f4f101b7.js";import"./DialogModal.8cf5c355.js";import"./InputLabel.8768c12c.js";import"./TextInput.9678d8a1.js";class _{constructor(e,t,s){var r,i;this.name=e,this.definition=t,this.bindings=(r=t.bindings)!=null?r:{},this.wheres=(i=t.wheres)!=null?i:{},this.config=s}get template(){return`${this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}/${this.definition.uri}`.replace(/\/+$/,"")}get parameterSegments(){var e,t;return(t=(e=this.template.match(/{[^}?]+\??}/g))==null?void 0:e.map(s=>({name:s.replace(/{|\??}/g,""),required:!/\?}$/.test(s)})))!=null?t:[]}matchesUrl(e){if(!this.definition.methods.includes("GET"))return!1;const t=this.template.replace(/(\/?){([^}?]*)(\??)}/g,(o,a,c,u)=>{var d;const l=`(?<${c}>${((d=this.wheres[c])==null?void 0:d.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return u?`(${a}${l})?`:`${a}${l}`}).replace(/^\w+:\/\//,""),[s,r]=e.replace(/^\w+:\/\//,"").split("?"),i=new RegExp(`^${t}/?$`).exec(s);return i?{params:i.groups,query:y.parse(r)}:!1}compile(e){const t=this.parameterSegments;return t.length?this.template.replace(/{([^}?]+)(\??)}/g,(s,r,i)=>{var o,a,c;if(!i&&[null,void 0].includes(e[r]))throw new Error(`Ziggy error: '${r}' parameter is required for route '${this.name}'.`);if(t[t.length-1].name===r&&this.wheres[r]===".*")return encodeURIComponent((o=e[r])!=null?o:"").replace(/%2F/g,"/");if(this.wheres[r]&&!new RegExp(`^${i?`(${this.wheres[r]})?`:this.wheres[r]}$`).test((a=e[r])!=null?a:""))throw new Error(`Ziggy error: '${r}' parameter does not match required format '${this.wheres[r]}' for route '${this.name}'.`);return encodeURIComponent((c=e[r])!=null?c:"")}).replace(/\/+$/,""):this.template}}class k extends String{constructor(e,t,s=!0,r){if(super(),this._config=r!=null?r:typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy,this._config={...this._config,absolute:s},e){if(!this._config.routes[e])throw new Error(`Ziggy error: route '${e}' is not in the route list.`);this._route=new _(e,this._config.routes[e],this._config),this._params=this._parse(t)}}toString(){const e=Object.keys(this._params).filter(t=>!this._route.parameterSegments.some(({name:s})=>s===t)).filter(t=>t!=="_query").reduce((t,s)=>({...t,[s]:this._params[s]}),{});return this._route.compile(this._params)+y.stringify({...e,...this._params._query},{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(t,s)=>typeof t=="boolean"?Number(t):s(t)})}_unresolve(e){e?this._config.absolute&&e.startsWith("/")&&(e=this._location().host+e):e=this._currentUrl();let t={};const[s,r]=Object.entries(this._config.routes).find(([i,o])=>t=new _(i,o,this._config).matchesUrl(e))||[void 0,void 0];return{name:s,...t,route:r}}_currentUrl(){const{host:e,pathname:t,search:s}=this._location();return(this._config.absolute?e+t:t.replace(this._config.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+s}current(e,t){const{name:s,params:r,query:i,route:o}=this._unresolve();if(!e)return s;const a=new RegExp(`^${e.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(s);if([null,void 0].includes(t)||!a)return a;const c=new _(s,o,this._config);t=this._parse(t,c);const u={...r,...i};return Object.values(t).every(l=>!l)&&!Object.values(u).some(l=>l!==void 0)?!0:Object.entries(t).every(([l,d])=>u[l]==d)}_location(){var r,i,o,a,c,u;const{host:e="",pathname:t="",search:s=""}=typeof window<"u"?window.location:{};return{host:(i=(r=this._config.location)==null?void 0:r.host)!=null?i:e,pathname:(a=(o=this._config.location)==null?void 0:o.pathname)!=null?a:t,search:(u=(c=this._config.location)==null?void 0:c.search)!=null?u:s}}get params(){const{params:e,query:t}=this._unresolve();return{...e,...t}}has(e){return Object.keys(this._config.routes).includes(e)}_parse(e={},t=this._route){e!=null||(e={}),e=["string","number"].includes(typeof e)?[e]:e;const s=t.parameterSegments.filter(({name:r})=>!this._config.defaults[r]);return Array.isArray(e)?e=e.reduce((r,i,o)=>s[o]?{...r,[s[o].name]:i}:typeof i=="object"?{...r,...i}:{...r,[i]:""},{}):s.length===1&&!e[s[0].name]&&(e.hasOwnProperty(Object.values(t.bindings)[0])||e.hasOwnProperty("id"))&&(e={[s[0].name]:e}),{...this._defaults(t),...this._substituteBindings(e,t)}}_defaults(e){return e.parameterSegments.filter(({name:t})=>this._config.defaults[t]).reduce((t,{name:s},r)=>({...t,[s]:this._config.defaults[s]}),{})}_substituteBindings(e,{bindings:t,parameterSegments:s}){return Object.entries(e).reduce((r,[i,o])=>{if(!o||typeof o!="object"||Array.isArray(o)||!s.some(({name:a})=>a===i))return{...r,[i]:o};if(!o.hasOwnProperty(t[i]))if(o.hasOwnProperty("id"))t[i]="id";else throw new Error(`Ziggy error: object passed as '${i}' parameter is missing route model binding key '${t[i]}'.`);return{...r,[i]:o[t[i]]}},{})}valueOf(){return this.toString()}check(e){return this.has(e)}}function b(h,e,t,s){const r=new k(h,e,t,s);return h?r.toString():r}const N={class:"grid grid-cols-12 relative"},F={class:"py-12 bg-slate-100 col-span-9 overflow-y-auto h-screen"},I={class:"max-w-full mx-auto sm:px-6 lg:px-8"},T={class:"flex justify-between gap-6"},A={class:"text-2xl font-bold"},M={class:"text-slate-500 text-sm mt-2"},Y={class:"font-semibold"},W={class:"grid grid-cols-5 gap-8 mt-12"},z=["value","onClick"],D={class:"overflow-hidden"},L={class:"px-4 py-12 col-span-3 overflow-y-auto h-screen"},ae={__name:"Order",props:{foods:{type:Object},categories:{type:Object},carts:{type:Object},table_id:{type:String}},setup(h){const e=h,t=$({search:"",category:""});x(t,r=>{m.Inertia.get(b("order"),{filters:r},{preserveState:!0,preserveScroll:!0,replace:!0})});const s=()=>{t.search="",t.category=""};return e.table_id==null&&v.fire({title:"Error",text:"No table number found!",icon:"error",allowOutsideClick:!1,showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Choose table!"}).then(r=>{r.isConfirmed&&m.Inertia.visit(b("table"))}),(r,i)=>(f(),O(P,{title:"Order List"},{default:j(()=>[n("div",N,[n("div",F,[n("div",I,[n("div",T,[n("div",null,[n("p",A," Welcome, "+p(r.$page.props.user.name),1),n("p",M,[S(" Today is "),n("span",Y,p(C(Z)().format("dddd, D MMMM YYYY")),1)])]),n("div",null,[g(V,{type:"text",placeholder:"Search here..",class:"w-64",modelValue:t.search,"onUpdate:modelValue":i[0]||(i[0]=o=>t.search=o)},null,8,["modelValue"])])]),n("div",W,[(f(!0),w(q,null,B(e.categories,o=>(f(),w("div",null,[n("button",{value:o.name,class:E(["bg-white border border-slate-300 shadow-md rounded-lg py-2 px-8 flex justify-evenly items-center gap-4 cursor-pointer hover:bg-orange-600 hover:text-white hover:font-bold transition w-full uppercase tracking-wider",{"bg-orange-600 text-white":t.category==o.id}]),onClick:a=>t.category=o.id},p(o.name),11,z)]))),256))]),n("div",{class:"mt-6"},[n("p",{class:"text-sm text-slate-500 hover:text-slate-800 hover:underline cursor-pointer",onClick:s}," Reset Filter ")]),n("div",D,[g(R,{foods:e.foods,categories:h.categories,filter:t.category,table_id:e.table_id},null,8,["foods","categories","filter","table_id"])])])]),n("div",L,[g(U,{carts:e.carts,table_id:e.table_id},null,8,["carts","table_id"])])])]),_:1}))}};export{ae as default};
