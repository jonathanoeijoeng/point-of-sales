import{I as g,k as E,o as a,c as B,w as f,a as t,p as S,b as o,e as l,i as u,t as d,h as c,F as m,x as L,U as N,g as x,z as h}from"./app.24b6b270.js";import{_ as q}from"./AppLayout.adca4cab.js";import{_ as p}from"./InputLabel.06cd230f.js";import{_ as v}from"./Textinput.6131d848.js";import{_ as I}from"./PrimaryButton.2543e0ba.js";import{_ as j}from"./DangerButton.cfa26788.js";import{u as C,r as _,m as $,e as D}from"./index.esm.6f9190fa.js";import"./_plugin-vue_export-helper.cdc0426e.js";const F={class:"max-w-7xl mx-auto border border-slate-300 rounded-lg shoadow-lg my-6"},M=t("div",{class:"bg-slate-300 p-4 rounded-t-lg"},[t("p",{class:"uppercase tracking-wider font-bold"},"Edit User")],-1),O=["onSubmit"],R={class:"p-4 grid grid-cols-2 gap-3"},T={class:"mt-3"},z={class:"text-red-500 text-sm mt-1"},A={class:"mt-3"},P={class:"text-red-500 text-sm mt-1"},G={class:"mt-3"},H={class:"text-red-500 text-sm mt-1"},J={class:"mt-3"},K={class:"text-red-500 text-sm mt-1"},Q={class:"mt-3"},W=["value","selected"],X={class:"text-red-500 text-sm mt-1"},Y={class:"px-4 pb-4 flex gap-3"},ie={__name:"EditUser",props:{user:{type:Object,required:!0},roles:{type:Object,required:!0}},setup(V){const i=V,y=g({name:i.user.roles[0].name}),s=g({id:i.user.id,name:i.user.name,email:i.user.email,phone:i.user.phone,active_until:i.user.active_until,role:y.name}),k=E(()=>({name:{required:_,minLength:$(3)},email:{required:_,email:D},phone:{required:_,minLength:$(10)},active_until:{required:_},role:{required:_}})),r=C(k,s),b=async()=>{await r.value.$validate()?h.Inertia.put(route("user.update"),s):console.log("failed")},w=()=>{h.Inertia.get(route("settings"))};return(U,n)=>(a(),B(q,null,{default:f(()=>[t("div",F,[M,t("form",{onSubmit:S(b,["prevent"])},[t("div",R,[t("div",T,[o(p,{value:"Name"}),o(v,{type:"text",class:"w-full",modelValue:s.name,"onUpdate:modelValue":n[0]||(n[0]=e=>s.name=e)},null,8,["modelValue"]),(a(!0),l(m,null,u(c(r).name.$silentErrors,e=>(a(),l("span",{key:e.$uid},[t("p",z,d(e.$message),1)]))),128))]),t("div",A,[o(p,{value:"Email"}),o(v,{type:"text",class:"w-full",modelValue:s.email,"onUpdate:modelValue":n[1]||(n[1]=e=>s.email=e)},null,8,["modelValue"]),(a(!0),l(m,null,u(c(r).email.$silentErrors,e=>(a(),l("span",{key:e.$uid},[t("p",P,d(e.$message),1)]))),128))]),t("div",G,[o(p,{value:"Phone"}),o(v,{type:"text",class:"w-full",modelValue:s.phone,"onUpdate:modelValue":n[2]||(n[2]=e=>s.phone=e)},null,8,["modelValue"]),(a(!0),l(m,null,u(c(r).phone.$silentErrors,e=>(a(),l("span",{key:e.$uid},[t("p",H,d(e.$message),1)]))),128))]),t("div",J,[o(p,{value:"Active Until"}),o(v,{type:"date",class:"w-full",modelValue:s.active_until,"onUpdate:modelValue":n[3]||(n[3]=e=>s.active_until=e)},null,8,["modelValue"]),(a(!0),l(m,null,u(c(r).active_until.$silentErrors,e=>(a(),l("span",{key:e.$uid},[t("p",K,d(e.$message),1)]))),128))]),t("div",Q,[o(p,{for:"role",value:"Role"}),L(t("select",{name:"role",id:"",class:"rounded-lg border border-slate-300 w-full","onUpdate:modelValue":n[4]||(n[4]=e=>s.role=e)},[(a(!0),l(m,null,u(i.roles,e=>(a(),l("option",{key:e.id,value:e.name,selected:e.id==s.role},d(e.name),9,W))),128))],512),[[N,s.role]]),(a(!0),l(m,null,u(c(r).role.$silentErrors,e=>(a(),l("span",{key:e.$uid},[t("p",X,d(e.$message),1)]))),128))])]),t("div",Y,[o(I,{class:"mt-3",type:"submit",value:"Update User"},{default:f(()=>[x("Update")]),_:1}),o(j,{class:"mt-3",value:"Back",onClick:w},{default:f(()=>[x("Back")]),_:1})])],40,O)])]),_:1}))}};export{ie as default};
