import{V as x,I as v,m as O,W as j,z as b,o as p,c as S,w as y,a as n,t as _,g as C,h as g,b as f,e as $,i as B,n as E,F as q,L as P}from"./app.ca1f34a1.js";import{_ as R}from"./AppLayout.58ada3cc.js";import V from"./Order.2a404567.js";import U from"./Cart.15e8cc7e.js";import{_ as Z}from"./Textinput.69e60e69.js";import{d as k}from"./dayjs.min.f7dd5fcb.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./DangerButton.235d971c.js";import"./PrimaryButton.94f55c77.js";import"./DialogModal.0d89c128.js";import"./InputLabel.8dab08d9.js";import"./TextInput.30c6dfaf.js";class m{constructor(e,t,r){var s,i;this.name=e,this.definition=t,this.bindings=(s=t.bindings)!=null?s:{},this.wheres=(i=t.wheres)!=null?i:{},this.config=r}get template(){return`${this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}/${this.definition.uri}`.replace(/\/+$/,"")}get parameterSegments(){var e,t;return(t=(e=this.template.match(/{[^}?]+\??}/g))==null?void 0:e.map(r=>({name:r.replace(/{|\??}/g,""),required:!/\?}$/.test(r)})))!=null?t:[]}matchesUrl(e){if(!this.definition.methods.includes("GET"))return!1;const t=this.template.replace(/(\/?){([^}?]*)(\??)}/g,(o,a,c,d)=>{var u;const l=`(?<${c}>${((u=this.wheres[c])==null?void 0:u.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return d?`(${a}${l})?`:`${a}${l}`}).replace(/^\w+:\/\//,""),[r,s]=e.replace(/^\w+:\/\//,"").split("?"),i=new RegExp(`^${t}/?$`).exec(r);return i?{params:i.groups,query:x.parse(s)}:!1}compile(e){const t=this.parameterSegments;return t.length?this.template.replace(/{([^}?]+)(\??)}/g,(r,s,i)=>{var o,a,c;if(!i&&[null,void 0].includes(e[s]))throw new Error(`Ziggy error: '${s}' parameter is required for route '${this.name}'.`);if(t[t.length-1].name===s&&this.wheres[s]===".*")return encodeURIComponent((o=e[s])!=null?o:"").replace(/%2F/g,"/");if(this.wheres[s]&&!new RegExp(`^${i?`(${this.wheres[s]})?`:this.wheres[s]}$`).test((a=e[s])!=null?a:""))throw new Error(`Ziggy error: '${s}' parameter does not match required format '${this.wheres[s]}' for route '${this.name}'.`);return encodeURIComponent((c=e[s])!=null?c:"")}).replace(/\/+$/,""):this.template}}class N extends String{constructor(e,t,r=!0,s){if(super(),this._config=s!=null?s:typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy,this._config={...this._config,absolute:r},e){if(!this._config.routes[e])throw new Error(`Ziggy error: route '${e}' is not in the route list.`);this._route=new m(e,this._config.routes[e],this._config),this._params=this._parse(t)}}toString(){const e=Object.keys(this._params).filter(t=>!this._route.parameterSegments.some(({name:r})=>r===t)).filter(t=>t!=="_query").reduce((t,r)=>({...t,[r]:this._params[r]}),{});return this._route.compile(this._params)+x.stringify({...e,...this._params._query},{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(t,r)=>typeof t=="boolean"?Number(t):r(t)})}_unresolve(e){e?this._config.absolute&&e.startsWith("/")&&(e=this._location().host+e):e=this._currentUrl();let t={};const[r,s]=Object.entries(this._config.routes).find(([i,o])=>t=new m(i,o,this._config).matchesUrl(e))||[void 0,void 0];return{name:r,...t,route:s}}_currentUrl(){const{host:e,pathname:t,search:r}=this._location();return(this._config.absolute?e+t:t.replace(this._config.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+r}current(e,t){const{name:r,params:s,query:i,route:o}=this._unresolve();if(!e)return r;const a=new RegExp(`^${e.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(r);if([null,void 0].includes(t)||!a)return a;const c=new m(r,o,this._config);t=this._parse(t,c);const d={...s,...i};return Object.values(t).every(l=>!l)&&!Object.values(d).some(l=>l!==void 0)?!0:Object.entries(t).every(([l,u])=>d[l]==u)}_location(){var s,i,o,a,c,d;const{host:e="",pathname:t="",search:r=""}=typeof window<"u"?window.location:{};return{host:(i=(s=this._config.location)==null?void 0:s.host)!=null?i:e,pathname:(a=(o=this._config.location)==null?void 0:o.pathname)!=null?a:t,search:(d=(c=this._config.location)==null?void 0:c.search)!=null?d:r}}get params(){const{params:e,query:t}=this._unresolve();return{...e,...t}}has(e){return Object.keys(this._config.routes).includes(e)}_parse(e={},t=this._route){e!=null||(e={}),e=["string","number"].includes(typeof e)?[e]:e;const r=t.parameterSegments.filter(({name:s})=>!this._config.defaults[s]);return Array.isArray(e)?e=e.reduce((s,i,o)=>r[o]?{...s,[r[o].name]:i}:typeof i=="object"?{...s,...i}:{...s,[i]:""},{}):r.length===1&&!e[r[0].name]&&(e.hasOwnProperty(Object.values(t.bindings)[0])||e.hasOwnProperty("id"))&&(e={[r[0].name]:e}),{...this._defaults(t),...this._substituteBindings(e,t)}}_defaults(e){return e.parameterSegments.filter(({name:t})=>this._config.defaults[t]).reduce((t,{name:r},s)=>({...t,[r]:this._config.defaults[r]}),{})}_substituteBindings(e,{bindings:t,parameterSegments:r}){return Object.entries(e).reduce((s,[i,o])=>{if(!o||typeof o!="object"||Array.isArray(o)||!r.some(({name:a})=>a===i))return{...s,[i]:o};if(!o.hasOwnProperty(t[i]))if(o.hasOwnProperty("id"))t[i]="id";else throw new Error(`Ziggy error: object passed as '${i}' parameter is missing route model binding key '${t[i]}'.`);return{...s,[i]:o[t[i]]}},{})}valueOf(){return this.toString()}check(e){return this.has(e)}}function w(h,e,t,r){const s=new N(h,e,t,r);return h?s.toString():s}const F={class:"grid grid-cols-12 relative"},I={class:"py-12 bg-slate-100 col-span-9 overflow-y-auto h-screen"},T={class:"max-w-full mx-auto sm:px-6 lg:px-8"},A={class:"flex justify-between gap-6"},L={class:"text-2xl font-bold"},M={class:"text-slate-500 text-sm mt-2"},Y={class:"font-semibold"},W={class:"grid grid-cols-5 gap-8 mt-12"},z=["value","onClick"],D={class:"mt-6"},G=n("p",{class:"text-sm text-slate-500 hover:text-slate-800 hover:underline cursor-pointer"}," Reset Filter ",-1),Q={class:"overflow-hidden"},H={class:"px-4 py-12 col-span-3 overflow-y-auto h-screen"},le={__name:"Order",props:{foods:{type:Object},categories:{type:Object},carts:{type:Object},table_id:{type:String}},setup(h){const e=h,t=v({search:"",category:""});return O(t,r=>{b.Inertia.get(w("order"),{filters:r},{preserveState:!0,preserveScroll:!0,replace:!0})}),e.table_id==null&&j.fire({title:"Error",text:"No table number found!",icon:"error",allowOutsideClick:!1,showCancelButton:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Choose table!"}).then(r=>{r.isConfirmed&&b.Inertia.visit(w("table"))}),(r,s)=>(p(),S(R,{title:"Order List"},{default:y(()=>[n("div",F,[n("div",I,[n("div",T,[n("div",A,[n("div",null,[n("p",L," Welcome, "+_(r.$page.props.user.name),1),n("p",M,[C(" Today is "),n("span",Y,_(g(k)().format("dddd, D MMMM YYYY")),1)])]),n("div",null,[f(Z,{type:"text",placeholder:"Search here..",class:"w-64",modelValue:t.search,"onUpdate:modelValue":s[0]||(s[0]=i=>t.search=i)},null,8,["modelValue"])])]),n("div",W,[(p(!0),$(q,null,B(e.categories,i=>(p(),$("div",null,[n("button",{value:i.name,class:E(["bg-white border border-slate-300 shadow-md rounded-lg py-2 px-8 flex justify-evenly items-center gap-4 cursor-pointer hover:bg-orange-600 hover:text-white hover:font-bold transition w-full uppercase tracking-wider",{"bg-orange-600 text-white":t.category==i.id}]),onClick:o=>t.category=i.id},_(i.name),11,z)]))),256))]),n("div",D,[f(g(P),{href:g(w)("order")},{default:y(()=>[G]),_:1},8,["href"])]),n("div",Q,[f(V,{foods:e.foods,categories:h.categories,filter:t.category,table_id:e.table_id},null,8,["foods","categories","filter","table_id"])])])]),n("div",H,[f(U,{carts:e.carts,table_id:e.table_id},null,8,["carts","table_id"])])])]),_:1}))}};export{le as default};
