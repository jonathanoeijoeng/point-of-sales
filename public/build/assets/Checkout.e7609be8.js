import{d as u,k as v,o as a,c as f,w as b,a as t,g as c,t as o,h as r,e as d,i as x,F as y,x as g,E as w,b as _,f as k}from"./app.a59a7692.js";import{_ as N}from"./AppLayout.c0655474.js";import{d as S}from"./dayjs.min.4b37b084.js";import{_ as V}from"./TextInput.48c6da4e.js";import{_ as C}from"./InputLabel.219f3c78.js";import"./_plugin-vue_export-helper.cdc0426e.js";const L={class:"w-1/2 mx-auto p-8 border border-slate-300 rounded-lg mt-6 shadow-md"},j=t("div",{class:"text-2xl font-bold"},"Order Checkout",-1),R={class:"mt-3"},T=t("hr",{class:"mt-3"},null,-1),D={class:"my-2 w-full"},P=t("thead",null,[t("tr",null,[t("th",{class:"py-1 pr-4 text-left"},"Item"),t("th",{class:"py-1 px-4 text-center"},"Qty"),t("th",{class:"py-1 px-4 text-right"},"Price"),t("th",{class:"py-1 pl-4 text-right"},"Total")])],-1),B={class:"py-1 pr-4"},M={class:"py-1 px-4 text-center"},O={class:"py-1 px-4 text-right"},Y={class:"py-1 pl-4 text-right"},$=t("hr",null,null,-1),A={class:"flex justify-between mt-3"},E=t("div",null,"Subtotal",-1),F={class:"flex justify-between mt-3"},I=t("div",null,"Discount",-1),U={class:"flex justify-between mt-3"},q=t("div",null,"After Disc",-1),G={class:"flex justify-between mt-3"},Q=t("div",null,"Tax",-1),z=t("hr",{class:"mt-3"},null,-1),H={class:"flex justify-between mt-3 font-bold"},J=t("div",{class:"text-base"},"Total",-1),K={class:"text-base"},W=t("hr",{class:"mt-3"},null,-1),X=t("div",{class:"mt-3 font-bold"},"Payment Type:",-1),Z=t("option",{value:"1"},"Cash",-1),tt=t("option",{value:"2"},"Credit Card",-1),et=t("option",{value:"3"},"GoPay",-1),ot=t("option",{value:"4"},"OVO",-1),st=[Z,tt,et,ot],lt={key:0},nt={class:"mt-3 w-full"},it={class:"mt-3 w-full text-right"},at=t("div",{class:"font-bold"},"Change:",-1),ct={class:"font-bold text-3xl text-right"},vt={__name:"Checkout",props:{carts:Object,table_id:String,invoice:Object,snapToken:String},setup(m){const e=m,l=u(1),n=u(0),p=v(()=>n.value-e.invoice.total),h=()=>{if(l.value==1){if(n.value<e.invoice.total){alert("Payment amount is not enough");return}}else window.snap.pay(e.snapToken)};return(dt,i)=>(a(),f(N,null,{default:b(()=>[t("div",L,[j,t("div",R,[t("div",null,[c(" INV No: "),t("span",null,o(e.invoice.invoice_no),1)]),t("div",null,[c(" Date: "),t("span",null,o(r(S)(e.invoice.time_checkout).format("DD MMMM YYYY")),1)]),t("div",null,[c(" Table: "),t("span",null,o(e.invoice.table.name),1)])]),T,t("table",D,[P,t("tbody",null,[(a(!0),d(y,null,x(e.carts,s=>(a(),d("tr",{key:s.id},[t("td",B,o(s.food_detail.name),1),t("td",M,o(s.quantity),1),t("td",O," Rp. "+o(Number(s.price).toLocaleString()),1),t("td",Y," Rp. "+o(Number(s.sub_total).toLocaleString()),1)]))),128))])]),$,t("div",A,[E,t("div",null," Rp. "+o(Number(e.invoice.sub_total).toLocaleString()),1)]),t("div",F,[I,t("div",null," Rp. "+o(Number(e.invoice.discount).toLocaleString()),1)]),t("div",U,[q,t("div",null," Rp. "+o(Number(e.invoice.after_disc).toLocaleString()),1)]),t("div",G,[Q,t("div",null," Rp. "+o(e.invoice.tax?Number(e.invoice.tax).toLocaleString():0),1)]),z,t("div",H,[J,t("div",K," Rp. "+o(e.invoice.tax?Number(e.invoice.total).toLocaleString():0),1)]),W,X,g(t("select",{class:"w-full mt-2 p-2 border border-slate-300 rounded-lg",name:"",id:"","onUpdate:modelValue":i[0]||(i[0]=s=>l.value=s)},st,512),[[w,l.value]]),l.value==1?(a(),d("div",lt,[t("div",nt,[_(C,{value:"Payment Amount"}),_(V,{id:"payment_amount",type:"number",class:"mt-1 block w-full py-2 text-2xl",modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=s=>n.value=s)},null,8,["modelValue"])]),t("div",it,[at,t("div",ct," Rp. "+o(Number(r(p)).toLocaleString()),1)])])):k("",!0),t("div",null,[t("button",{class:"bg-green-500 text-white px-4 py-4 text-lg rounded-lg mt-3",onClick:h}," Pay Bill ")])])]),_:1}))}};export{vt as default};
