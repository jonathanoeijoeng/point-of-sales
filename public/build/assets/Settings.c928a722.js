import{_ as M}from"./AppLayout.305204fd.js";import{_ as f}from"./Checkbox.e4652f75.js";import{o,e as n,a as e,d as p,m as D,I as O,k as E,c as P,w as b,i as h,t as c,h as T,g as y,F as m,b as r,z as i,Y as k}from"./app.11dfbbab.js";import{d as H}from"./dayjs.min.d3bc09f9.js";import{_ as R}from"./PrimaryButton.31cceb53.js";import{V as q,p as G,a as J,b as K,c as Q,d as W,e as X}from"./filepond-plugin-image-preview.d0242f45.js";import{u as Z,r as w,m as C,a as ee}from"./index.esm.e2464acc.js";import{_ as te}from"./TextInput.921e49cd.js";import"./_plugin-vue_export-helper.cdc0426e.js";const se={class:"text-yellow-500 cursor-pointer fill-current hover:scale-125",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 500 500"},le=e("path",{d:"M484.685 196.177c-4-3.8-10.3-3.7-14.1.3l-181 189.6-14.1-57.6 188.8-189.7c3.9-3.9 3.9-10.2 0-14.1-3.9-3.9-10.2-3.9-14.1 0l-188.8 189.6-70.3-17.7-17.7-70.3 189.6-188.8c3.9-3.9 3.9-10.2 0-14.1-3.9-3.9-10.2-3.9-14.1 0l-189.6 188.9-57.6-14.1 189.6-181c4-3.8 4.1-10.1.3-14.1s-10.1-4.1-14.1-.3l-202.7 193.6-.1.1c-.3.2-.5.5-.7.8l-.2.2c-.3.3-.5.7-.7 1v.1c-.2.3-.4.7-.5 1 0 .1-.1.2-.1.3-.1.3-.2.6-.3 1 0 .1 0 .1-.1.2l-71.6 274.4c-.9 3.4.1 7.1 2.6 9.6 1.9 1.9 4.5 2.9 7.1 2.9.8 0 1.7-.1 2.5-.3l274.4-71.6c.1 0 .1 0 .2-.1.3-.1.6-.2 1-.3.1 0 .2-.1.3-.1.3-.2.7-.3 1-.5h.1c.4-.2.7-.5 1-.7l.2-.2c.3-.2.5-.5.8-.7l.1-.1 193.6-202.7c3.4-4.4 3.3-10.7-.7-14.5zm-460.9 267.6 18.7-71.7 53 53-71.7 18.7zm94.1-24.5-69.6-69.6 40.3-154.2 65.4 16 19.1 75.7c.9 3.6 3.7 6.4 7.3 7.3l75.7 19.1 16 65.4-154.2 40.3z"},null,-1),ae=[le],V={__name:"Edit",props:{type:{type:String,default:"button"}},setup(_){return(d,u)=>(o(),n("svg",se,ae))}},oe={class:"text-red-600 fill-current cursor-pointer hover:scale-125",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 473 473",style:{"enable-background":"new 0 0 473 473"},"xml:space":"preserve"},ne=e("path",{d:"M324.285 215.015V128h20V38h-98.384V0H132.669v38H34.285v90h20v305h161.523c23.578 24.635 56.766 40 93.477 40 71.368 0 129.43-58.062 129.43-129.43 0-66.294-50.103-121.096-114.43-128.555zm-30 0a128.499 128.499 0 0 0-50 16.669V128h50v87.015zM162.669 30h53.232v8h-53.232v-8zM64.285 68h250v30h-250V68zm20 60h50v275h-50V128zm80 275V128h50v127.768c-21.356 23.089-34.429 53.946-34.429 87.802 0 21.411 5.231 41.622 14.475 59.43h-30.046zm145 40c-54.826 0-99.429-44.604-99.429-99.43s44.604-99.429 99.429-99.429 99.43 44.604 99.43 99.429S364.111 443 309.285 443z"},null,-1),ie=e("path",{d:"m342.248 289.395-32.963 32.963-32.962-32.963-21.213 21.213 32.963 32.963-32.963 32.962 21.213 21.213 32.962-32.963 32.963 32.963 21.213-21.213-32.963-32.962 32.963-32.963z"},null,-1),ce=[ne,ie],$={__name:"Delete",props:{type:{type:String,default:"button"}},setup(_){return(d,u)=>(o(),n("svg",oe,ce))}},re={class:"max-w-full mx-auto sm:px-6 lg:px-8"},de={class:"mt-8 overflow-x-auto bg-slate-300 rounded-lg border border-slate-300"},ue=e("div",{class:"p-4 bg-slate-300 rounded-t-lg lg:flex lg:justify-between items-center w-full"},[e("p",{class:"font-bold uppercase tracking-widest text-sm"}," User List ")],-1),pe={class:"text-xs lg:text-sm w-full text-left divide-y divide-slate-200"},he=e("thead",null,[e("tr",{class:"bg-slate-200 font-semibold uppercase tracking-widest text-xs"},[e("th",{class:"py-3 px-4"},"Name"),e("th",{class:"py-3 px-4"},"Phone"),e("th",{class:"py-3 px-4"},"Status"),e("th",{class:"py-3 px-4 text-center"},"Role"),e("th",{class:"py-3 px-4 text-center"},"Action")])],-1),me={class:"divide-y divide-slate-200"},_e={class:"py-3 px-4"},ve={class:"font-semibold text-lg"},ge={class:"text-sm"},xe={class:"py-3 px-4"},fe={class:"py-3 px-4"},ye={class:"flex items-center text-center"},we={key:0,class:"flex items-center"},be=e("div",{class:"h-2.5 w-2.5 rounded-full bg-green-500 mr-2"},null,-1),ke={key:1,class:"flex items-center"},Ce=e("div",{class:"h-2.5 w-2.5 rounded-full bg-red-500 mr-2"},null,-1),Ve={class:"py-3 px-4 text-center"},$e={class:"px-4 text-center flex justify-center whitespace-nowrap gap-1"},Se={class:"max-w-full mx-auto sm:px-6 lg:px-8"},Be={class:"my-8 overflow-x-auto bg-slate-300 rounded-lg border border-slate-300"},ze={class:"p-4 bg-slate-300 rounded-t-lg lg:flex lg:justify-between items-center w-full"},Ie={class:"flex items-center justify-between gap-6"},je=e("p",{class:"font-bold uppercase tracking-widest text-sm"}," Food List ",-1),Ye={class:"text-xs lg:text-sm w-full text-left divide-y divide-slate-200 rounded-lg"},Ne=e("thead",null,[e("tr",{class:"bg-slate-200 font-semibold uppercase tracking-widest text-xs"},[e("th",{class:"py-3 px-4"},"Name"),e("th",{class:"py-3 px-4"},"Description"),e("th",{class:"py-3 px-4"},"Category"),e("th",{class:"py-3 px-4"},"Price"),e("th",{class:"py-3 px-4"},"Unit"),e("th",{class:"py-3 px-4 text-center"},"Available"),e("th",{class:"py-3 px-4 text-center"},[e("img",{class:"w-6 h-6",src:"/img/chef.png",alt:""})]),e("th",{class:"py-3 px-4 text-center"},[e("img",{class:"w-6 h-6",src:"/img/heart.png",alt:""})]),e("th",{class:"py-3 px-4 text-center"},"Action")])],-1),Ue={class:"divide-y divide-slate-200"},Fe={class:"py-3 px-4 flex items-center gap-4"},Le=["src"],Ae={class:"font-semibold text-base"},Me={class:"py-3 px-4"},De={class:"py-3 px-4"},Oe=["onChange"],Ee=["value","selected"],Pe={class:"py-3 px-4"},Te={class:"py-3 px-4 text-center"},He={class:"py-3 px-4"},Re={class:"py-3 px-4"},qe={class:"px-4 text-center flex justify-center whitespace-nowrap gap-1"},st={__name:"Settings",props:{foods:{type:Object},users:{type:Object},categories:{type:Object}},setup(_){const d=_,u=p("");D(u,l=>{i.Inertia.post(route("settings"),{search:l},{preserveState:!0,preserveScroll:!0,replace:!0})});const v=p(""),g=p(""),x=p("");p(!1);const S=O({id:"",name:"",description:"",price:"",photo:""}),B=E(()=>({name:{required:w,minLength:C(3)},description:{required:w,minLength:C(5)},price:{required:w,minValue:ee(0)}}));Z(B,S),q(X,W,Q,K,J,G);const z=l=>{i.Inertia.post(route("recommended"),{id:l,is_recommended:v.value},{preserveScroll:!0})},I=l=>{i.Inertia.post(route("favourite"),{id:l,is_favorite:g.value},{preserveScroll:!0})},j=l=>{i.Inertia.post(route("status"),{id:l,is_available:x.value},{preserveScroll:!0})},Y=(l,a)=>{i.Inertia.post(route("category"),{id:l,category_id:a.target.value},{preserveScroll:!0})},N=l=>{i.Inertia.get(route("food.show",{id:l.id}))},U=l=>{k.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&i.Inertia.delete(route("food.destroy",{id:l.id,name:l.name},{preserveScroll:!0}))})},F=()=>{i.Inertia.get(route("food.create"))},L=l=>{i.Inertia.get(route("user.show",{id:l.id}))},A=l=>{k.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&i.Inertia.delete(route("user.destroy",{id:l.id,name:l.name},{preserveScroll:!0}))})};return(l,a)=>(o(),P(M,{title:"Settings"},{default:b(()=>[e("div",re,[e("div",de,[ue,e("table",pe,[he,e("tbody",me,[(o(!0),n(m,null,h(d.users,t=>(o(),n("tr",{class:"bg-white",key:t.id},[e("td",_e,[e("div",ve,c(t.name),1),e("div",ge,c(t.email),1)]),e("td",xe,c(t.phone),1),e("td",fe,[e("div",ye,[t.active_until>=T(H)().format("YYYY-MM-DD")?(o(),n("div",we,[be,y(" Active ")])):(o(),n("div",ke,[Ce,y(" Inactive ")]))])]),e("td",Ve,[(o(!0),n(m,null,h(t.roles,s=>(o(),n("span",{key:s.id},c(s.name),1))),128))]),e("td",$e,[r(V,{class:"w-12 scale-50 hover:scale-75",onClick:s=>L(t)},null,8,["onClick"]),r($,{class:"w-12 scale-50 hover:scale-75",onClickOnce:s=>A(t)},null,8,["onClickOnce"])])]))),128))])])])]),e("div",Se,[e("div",Be,[e("div",ze,[e("div",Ie,[je,e("div",null,[r(te,{class:"w-64 p-2 text-sm",placeholder:"Search food",modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=t=>u.value=t),type:"search"},null,8,["modelValue"])])]),r(R,{class:"w-full lg:w-auto",onClick:F},{default:b(()=>[y("New")]),_:1})]),e("table",Ye,[Ne,e("tbody",Ue,[(o(!0),n(m,null,h(d.foods,t=>(o(),n("tr",{class:"bg-white",key:t.id},[e("td",Fe,[e("img",{class:"w-12 h-12 rounded-full",src:"storage/images/foods/"+t.photo,alt:""},null,8,Le),e("span",Ae,c(t.name),1)]),e("td",Me,c(t.description.substring(0,50)+" .."),1),e("td",De,[e("select",{name:"",id:"",class:"rounded-lg py-1 text-sm border border-slate-300",onChange:s=>Y(t.id,s)},[(o(!0),n(m,null,h(d.categories,s=>(o(),n("option",{key:s.id,value:s.id,selected:s.id==t.category_id},c(s.name),9,Ee))),128))],40,Oe)]),e("td",{class:"py-3 px-4",onClick:a[1]||(a[1]=(...s)=>l.priceEdit&&l.priceEdit(...s))},c(Number(t.price).toLocaleString()),1),e("td",Pe,c(t.unit),1),e("td",Te,[r(f,{modelValue:x.value,"onUpdate:modelValue":a[2]||(a[2]=s=>x.value=s),checked:t.is_available==1,id:t.id,onChange:s=>j(t.id)},null,8,["modelValue","checked","id","onChange"])]),e("td",He,[r(f,{modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=s=>v.value=s),checked:t.is_recommended==1,id:t.id,onChange:s=>z(t.id)},null,8,["modelValue","checked","id","onChange"])]),e("td",Re,[r(f,{modelValue:g.value,"onUpdate:modelValue":a[4]||(a[4]=s=>g.value=s),checked:t.is_favorite==1,id:t.id,value:t.id,onChange:s=>I(t.id)},null,8,["modelValue","checked","id","value","onChange"])]),e("td",qe,[r(V,{class:"w-12 scale-50 hover:scale-75",onClick:s=>N(t)},null,8,["onClick"]),r($,{class:"w-12 scale-50 hover:scale-75",onClick:s=>U(t)},null,8,["onClick"])])]))),128))])])])])]),_:1}))}};export{st as default};
