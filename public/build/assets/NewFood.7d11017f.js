import{I as C,k as S,o as l,c as N,w as g,a as t,p as T,b as a,e as i,i as d,t as u,h as m,F as c,x as V,J as I,U as R,g as $,z as x}from"./app.6baf1ac7.js";import{V as B,p as D,a as L,b as P,c as j,d as z,e as E}from"./filepond-plugin-image-preview.8f19c3ce.js";import{_ as M}from"./AppLayout.746fdaba.js";import{_ as n}from"./InputLabel.387d61ee.js";import{_}from"./Textinput.be5f8139.js";import{_ as O}from"./PrimaryButton.0ca5cfd1.js";import{_ as A}from"./DangerButton.8eda07ce.js";import{_ as f}from"./Checkbox.0a66bc09.js";import{u as q,r as p,m as y,a as H}from"./index.esm.8dbdba65.js";import"./_plugin-vue_export-helper.cdc0426e.js";const J={class:"max-w-7xl mx-auto border border-slate-300 rounded-lg my-6 shadow-lg"},K=t("div",{class:"bg-slate-300 p-4 rounded-t-lg"},[t("p",{class:"uppercase tracking-wider font-bold"},"New Food")],-1),W=["onSubmit"],X={class:"p-4"},G={class:"mt-3"},Q={class:"text-red-500 text-sm mt-1"},Y={class:"mt-3"},Z={class:"text-red-500 text-sm mt-0"},ee={class:"mt-3 grid grid-cols-3 gap-3"},te=t("option",{value:""},"Select Category",-1),se=["value"],ae={class:"text-red-500 text-sm mt-1"},oe={class:"text-red-500 text-sm mt-1"},le={class:"text-red-500 text-sm mt-1"},ie={class:"flex items-center gap-1 mt-3"},ne={class:"flex items-center gap-1 mt-3"},re={class:"flex items-center gap-1 mt-3"},de={class:"mt-3"},ue={class:"flex gap-3"},ye={__name:"NewFood",props:{categories:{type:Object}},setup(h){const b=h,s=C({name:"",description:"",category_id:"",price:"",unit:"ea",photo:"",is_recommended:"",is_favorite:"",is_available:""}),w=S(()=>({name:{required:p,minLength:y(3)},description:{required:p,minLength:y(5)},category_id:{required:p},price:{required:p,minValue:H(0)},unit:{required:p}})),r=q(w,s),k=async()=>{await r.value.$validate()?x.Inertia.post(route("food.store"),s):console.log("error")},F=B(E,z,j,P,L,D),U=()=>{x.Inertia.get(route("settings"))};return(v,o)=>(l(),N(M,null,{default:g(()=>[t("div",J,[K,t("form",{onSubmit:T(k,["prevent"])},[t("div",X,[t("div",G,[a(n,{value:"Food Name"}),a(_,{type:"text",class:"w-full",modelValue:s.name,"onUpdate:modelValue":o[0]||(o[0]=e=>s.name=e)},null,8,["modelValue"]),(l(!0),i(c,null,d(m(r).name.$errors,e=>(l(),i("span",{key:e.$uid},[t("p",Q,u(e.$message),1)]))),128))]),t("div",Y,[a(n,{value:"Description"}),V(t("textarea",{type:"text",class:"w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":o[1]||(o[1]=e=>s.description=e)},null,512),[[I,s.description]]),(l(!0),i(c,null,d(m(r).description.$errors,e=>(l(),i("span",{key:e.$uid},[t("p",Z,u(e.$message),1)]))),128))]),t("div",ee,[t("div",null,[a(n,{value:"Category"}),V(t("select",{class:"w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":o[2]||(o[2]=e=>s.category_id=e)},[te,(l(!0),i(c,null,d(b.categories,e=>(l(),i("option",{value:e.id},u(e.name),9,se))),256))],512),[[R,s.category_id]]),(l(!0),i(c,null,d(m(r).category_id.$errors,e=>(l(),i("span",{key:e.$uid},[t("p",ae,u(e.$message),1)]))),128))]),t("div",null,[a(n,{value:"Price in IDR"}),a(_,{type:"number",class:"w-full",modelValue:s.price,"onUpdate:modelValue":o[3]||(o[3]=e=>s.price=e)},null,8,["modelValue"]),(l(!0),i(c,null,d(m(r).price.$errors,e=>(l(),i("span",{key:e.$uid},[t("p",oe,u(e.$message),1)]))),128))]),t("div",null,[a(n,{value:"Unit"}),a(_,{type:"text",class:"w-full",modelValue:s.unit,"onUpdate:modelValue":o[4]||(o[4]=e=>s.unit=e)},null,8,["modelValue"]),(l(!0),i(c,null,d(m(r).unit.$errors,e=>(l(),i("span",{key:e.$uid},[t("p",le,u(e.$message),1)]))),128))])]),t("div",ie,[a(f,{modelValue:s.is_recommended,"onUpdate:modelValue":o[5]||(o[5]=e=>s.is_recommended=e)},null,8,["modelValue"]),a(n,{value:"Chef Recommended"})]),t("div",ne,[a(f,{modelValue:s.is_favorite,"onUpdate:modelValue":o[6]||(o[6]=e=>s.is_favorite=e)},null,8,["modelValue"]),a(n,{value:"Favorite"})]),t("div",re,[a(f,{modelValue:s.is_available,"onUpdate:modelValue":o[7]||(o[7]=e=>s.is_available=e)},null,8,["modelValue"]),a(n,{value:"Available"})]),t("div",de,[a(n,{value:"Image"}),a(m(F),{accept:"image/jpg, image/jpeg, image/png",server:{url:"",process:{url:"/settings/upload",method:"POST",headers:{"X-CSRF-TOKEN":v.$page.props.csrf_token},withCredential:!1}},imageResizeTargetWidth:1200,imageResizeTargetHeight:1200,name:"photo",id:"photo"},null,8,["server"])]),t("div",ue,[a(O,{value:"Save",class:"mt-3",type:"submit"},{default:g(()=>[$("SAVE")]),_:1}),a(A,{value:"Cancel",class:"mt-3",onClick:U},{default:g(()=>[$("Cancel")]),_:1})])])],40,W)])]),_:1}))}};export{ye as default};
