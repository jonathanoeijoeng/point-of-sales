import{K as F,k as E,o as a,c as C,w as _,a as e,p as N,b as s,e as n,i as c,t as m,h as u,F as p,x as P,M as T,g as $,z as x}from"./app.58dd0a23.js";import{_ as U}from"./AppLayout.f8ec87ab.js";import{V as S,p as B,a as L,b as j,c as z,d as D,e as M}from"./filepond-plugin-image-preview.a83ba10a.js";import{_ as d}from"./InputLabel.48c3ddf0.js";import{_ as f}from"./Textinput.fdd93264.js";import{_ as O}from"./PrimaryButton.e7810c50.js";import{_ as R}from"./DangerButton.528aecde.js";import{u as I,r as g,m as V,a as K}from"./index.esm.f728adac.js";import"./_plugin-vue_export-helper.cdc0426e.js";const q={class:"max-w-4xl mx-auto border border-slate-300 rounded-lg my-6 shadow-lg"},H=e("div",{class:"bg-slate-300 p-4 rounded-t-lg"},[e("p",{class:"uppercase tracking-wider font-bold"},"Edit Food")],-1),W=["onSubmit"],X={class:"p-4"},A={class:"text-red-500 text-sm mt-1"},G={class:"mt-3"},J={class:"text-red-500 text-sm mt-1"},Q={class:"grid grid-cols-2 gap-3"},Y={class:"mt-3"},Z={class:"text-red-500 text-sm mt-1"},ee={class:"mt-3"},te={class:"text-red-500 text-sm mt-1"},se={class:"grid grid-cols-2 gap-3"},oe={class:"mt-3"},ae=["src"],ie={class:"mt-3"},ne={class:"mt-6 flex gap-3 bg-slate-300 p-4"},fe={__name:"EditFood",props:{food:Object},setup(b){const l=b,o=F({id:l.food.id,name:l.food.name,description:l.food.description,price:l.food.price,photo:l.food.photo,unit:l.food.unit}),w=E(()=>({name:{required:g,minLength:V(3)},description:{required:g,minLength:V(5)},price:{required:g,minValue:K(1)},unit:{required:g}})),r=I(w,o),h=async()=>{await r.value.$validate()&&x.Inertia.put(route("food.update"),o)},y=S(M,D,z,j,L,B),k=()=>{x.Inertia.get(route("settings"))};return(v,i)=>(a(),C(U,null,{default:_(()=>[e("div",q,[H,e("form",{onSubmit:N(h,["prevent"])},[e("div",X,[e("div",null,[s(d,{value:"Food Name"}),s(f,{type:"text",class:"w-full",modelValue:o.name,"onUpdate:modelValue":i[0]||(i[0]=t=>o.name=t)},null,8,["modelValue"]),(a(!0),n(p,null,c(u(r).name.$silentErrors,t=>(a(),n("span",{key:t.$uid},[e("p",A,m(t.$message),1)]))),128))]),e("div",G,[s(d,{value:"Food Description"}),P(e("textarea",{type:"text",class:"w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm","onUpdate:modelValue":i[1]||(i[1]=t=>o.description=t)},null,512),[[T,o.description]]),(a(!0),n(p,null,c(u(r).description.$silentErrors,t=>(a(),n("span",{key:t.$uid},[e("p",J,m(t.$message),1)]))),128))]),e("div",Q,[e("div",Y,[s(d,{value:"Price"}),s(f,{type:"text",class:"w-full",modelValue:o.price,"onUpdate:modelValue":i[2]||(i[2]=t=>o.price=t)},null,8,["modelValue"]),(a(!0),n(p,null,c(u(r).price.$silentErrors,t=>(a(),n("span",{key:t.$uid},[e("p",Z,m(t.$message),1)]))),128))]),e("div",ee,[s(d,{value:"Unit"}),s(f,{type:"text",class:"w-full",modelValue:o.unit,"onUpdate:modelValue":i[3]||(i[3]=t=>o.unit=t)},null,8,["modelValue"]),(a(!0),n(p,null,c(u(r).unit.$silentErrors,t=>(a(),n("span",{key:t.$uid},[e("p",te,m(t.$message),1)]))),128))])]),e("div",se,[e("div",oe,[s(d,{value:"Food Photo"}),e("img",{class:"border border-slate-400 rounded-lg",src:"../../storage/images/foods/"+o.photo},null,8,ae)]),e("div",ie,[s(d,{for:"new_photo",value:"New Photo"}),s(u(y),{accept:"image/jpg, image/jpeg, image/png",server:{url:"",process:{url:"/settings/upload",method:"POST",headers:{"X-CSRF-TOKEN":v.$page.props.csrf_token},withCredential:!1}},imageResizeTargetWidth:1200,imageResizeTargetHeight:1200,name:"photo",id:"photo"},null,8,["server"])])])]),e("div",ne,[s(O,{type:"submit",onClick:h},{default:_(()=>[$("Update")]),_:1}),s(R,{onClick:k},{default:_(()=>[$("Cancel")]),_:1})])],40,W)])]),_:1}))}};export{fe as default};
